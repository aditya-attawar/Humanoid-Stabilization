function [dX] = Attawar_Project_Linearization(t,X)

x1 = X(1);
x2 = X(2);
x3 = X(3);
dx1 = X(4);
dx2 = X(5);
dx3 = X(6);

m1 = 1;
m2 = 2;
m3 = 3;
J1 = 1;
J2 = 2;
J3 = 3;
L1 = 2;
L2 = 2;
g = 9.81;
rb = 0.35;

u=10;

P1 = (J3) + (m2*L2^2) + (2*m2*L1^2) + (2*m2*L1*L2);
P2 = (m2*L2^2) + (m2*L1*L2);
P3 = (m1*rb*g);
P4 = (J2) + (m2*L2^2);
P5 = (J1) + (m1*rb^2);
P6 = 1/(P1 - ((P2^2)/P4));
P7 = ((P2*P3/P4)-P3) / (P1-(P2*P2/P4));
P8 = (P3/P4) + (P2*P7/P4);
P9 = (P2*P6/P4);

A = [   0   0   0       1   0   0;
        0   0   0       0   1   0;
        0   0   0       0   0   1;
        0   0   (-P7)   0   0   0;
        0   0   (P8)    0   0   0;
        0   0   0       0   0   0   ];
   
B = [0  0  -0.05 (P6) (-P9) 0]';

dX = (A*X) + (B*u);